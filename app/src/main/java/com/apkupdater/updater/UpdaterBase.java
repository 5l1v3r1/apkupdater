package com.apkupdater.updater;

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

import android.content.Context;

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

public class UpdaterBase
	extends UpdaterOptions
	implements IUpdater
{
	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	protected String mPname;
	protected String mUrl;
	protected String mResultUrl;
	protected Throwable mError;
	protected UpdaterStatus mResultStatus;
	protected String mCurrentVersion;

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	UpdaterBase(
		Context context,
		String pname,
	    String cversion
	) {
		super(context);
		mCurrentVersion = cversion;
		mResultUrl = "";
		mPname = pname;
		mResultStatus = parseUrl(getUrl(mPname));
	}

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	protected String getUrl(
		String pname
	) {
		return mUrl;
	}

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	protected UpdaterStatus parseUrl(
		String url
	) {
		return UpdaterStatus.STATUS_FATAL_ERROR;
	}

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	@Override
	public String getResultUrl(
	) {
		return mResultUrl;
	}

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	@Override
	public Throwable getResultError(
	) {
		return mError;
	}

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	@Override
	public UpdaterStatus getResultStatus(
	) {
		return mResultStatus;
	}

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
